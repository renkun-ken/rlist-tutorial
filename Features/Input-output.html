<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>Input/Output | rlist Tutorial</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="../Features/Misc-functions.html" />
    
    
    <link rel="prev" href="../Features/Comparers.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-katex/katex.min.css">
        
    
    

        
    <div class="book" data-level="2.9" data-basepath=".." data-revision="Sun Mar 29 2015 09:39:24 GMT+0800 (China Standard Time)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="Getting-started/index.html">
            
                
                    <a href="../Getting-started/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Getting started
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="Getting-started/Quick-overview.html">
            
                
                    <a href="../Getting-started/Quick-overview.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Quick overview
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Getting-started/Working-in-pipeline.html">
            
                
                    <a href="../Getting-started/Working-in-pipeline.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Working in pipeline
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Getting-started/File-formats.html">
            
                
                    <a href="../Getting-started/File-formats.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        File formats
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Features/index.html">
            
                
                    <a href="../Features/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Features
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="Features/Mapping.html">
            
                
                    <a href="../Features/Mapping.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Mapping
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Features/Filtering.html">
            
                
                    <a href="../Features/Filtering.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Filtering
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Features/Updating.html">
            
                
                    <a href="../Features/Updating.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Updating
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="Features/Sorting.html">
            
                
                    <a href="../Features/Sorting.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Sorting
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="Features/Grouping.html">
            
                
                    <a href="../Features/Grouping.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Grouping
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="Features/Joining.html">
            
                
                    <a href="../Features/Joining.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Joining
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="Features/Searching.html">
            
                
                    <a href="../Features/Searching.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        Searching
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="Features/Comparers.html">
            
                
                    <a href="../Features/Comparers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.8.</b>
                        
                        Comparers
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="2.9" data-path="Features/Input-output.html">
            
                
                    <a href="../Features/Input-output.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.</b>
                        
                        Input/Output
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="Features/Misc-functions.html">
            
                
                    <a href="../Features/Misc-functions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.</b>
                        
                        Misc functions
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="Features/Lambda-expression.html">
            
                
                    <a href="../Features/Lambda-expression.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.11.</b>
                        
                        Lambda expression
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="Features/List-environment.html">
            
                
                    <a href="../Features/List-environment.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.12.</b>
                        
                        List environment
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="Examples/index.html">
            
                
                    <a href="../Examples/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Examples
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="Examples/GitHub-API.html">
            
                
                    <a href="../Examples/GitHub-API.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        GitHub API
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Examples/Weather-API.html">
            
                
                    <a href="../Examples/Weather-API.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Weather API
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">Published with GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Share on Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Share on Google</button>
                <button type="button" data-sharing="facebook" class="button">Share on Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Share on Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Share on Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >rlist Tutorial</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="input-output">Input/Output</h1>
<p>rlist provides various mechanisms for list data input and output. </p>
<h2 id="list-parse">list.parse</h2>
<p><code>list.parse()</code> is used to convert an object to list. For example, this function can convert <code>data.frame</code>, <code>matrix</code> to a list with identical structure.</p>
<pre><code class="lang-r"><span class="hljs-keyword">library</span>(rlist)
df1 &lt;- data.frame(name=c(<span class="hljs-string">&quot;Ken&quot;</span>,<span class="hljs-string">&quot;Ashley&quot;</span>,<span class="hljs-string">&quot;James&quot;</span>),
  age=c(<span class="hljs-number">24</span>,<span class="hljs-number">25</span>,<span class="hljs-number">23</span>), stringsAsFactors = <span class="hljs-literal">FALSE</span>)
str(list.parse(df1))
</code></pre>
<pre><code># List of 3
#  $ 1:List of 2
#   ..$ name: chr &quot;Ken&quot;
#   ..$ age : num 24
#  $ 2:List of 2
#   ..$ name: chr &quot;Ashley&quot;
#   ..$ age : num 25
#  $ 3:List of 2
#   ..$ name: chr &quot;James&quot;
#   ..$ age : num 23
</code></pre><p>This function also parses JSON or YAML format text.</p>
<pre><code class="lang-r">jsontext &lt;- <span class="hljs-string">&apos;
[{ &quot;name&quot;: &quot;Ken&quot;, &quot;age&quot;: 24 },
 { &quot;name&quot;: &quot;Ashley&quot;, &quot;age&quot;: 25},
 { &quot;name&quot;: &quot;James&quot;, &quot;age&quot;: 23 }]&apos;</span>
str(list.parse(jsontext, <span class="hljs-string">&quot;json&quot;</span>))
</code></pre>
<pre><code># List of 3
#  $ :List of 2
#   ..$ name: chr &quot;Ken&quot;
#   ..$ age : int 24
#  $ :List of 2
#   ..$ name: chr &quot;Ashley&quot;
#   ..$ age : int 25
#  $ :List of 2
#   ..$ name: chr &quot;James&quot;
#   ..$ age : int 23
</code></pre><pre><code class="lang-r">yamltext &lt;- <span class="hljs-string">&quot;
p1:
  name: Ken
  age: 24
p2:
  name: Ashley
  age: 25
p3:
  name: James
  age: 23
&quot;</span>
str(list.parse(yamltext, <span class="hljs-string">&quot;yaml&quot;</span>))
</code></pre>
<pre><code># List of 3
#  $ p1:List of 2
#   ..$ name: chr &quot;Ken&quot;
#   ..$ age : int 24
#  $ p2:List of 2
#   ..$ name: chr &quot;Ashley&quot;
#   ..$ age : int 25
#  $ p3:List of 2
#   ..$ name: chr &quot;James&quot;
#   ..$ age : int 23
</code></pre><h2 id="list-stack">list.stack</h2>
<p><code>list.stack()</code> reverses <code>list.parse()</code> on a data frame, that is, it converts a list of homogeneous elements to a data frame with corresponding columns. In other words, the function stacks all list elements together, resulting in a data frame.</p>
<pre><code class="lang-r">jsontext &lt;- <span class="hljs-string">&apos;
[{ &quot;name&quot;: &quot;Ken&quot;, &quot;age&quot;: 24 },
 { &quot;name&quot;: &quot;Ashley&quot;, &quot;age&quot;: 25},
 { &quot;name&quot;: &quot;James&quot;, &quot;age&quot;: 23 }]&apos;</span>
data &lt;- list.parse(jsontext, <span class="hljs-string">&quot;json&quot;</span>)
list.stack(data)
</code></pre>
<pre><code>#     name age
# 1    Ken  24
# 2 Ashley  25
# 3  James  23
</code></pre><p>Note that data frame is much more efficient to store tabular data that has different columns, each of which is a vector storing values of the same type. In R, a data frame is in essence a list of vectors. However, the data rlist functions are designed to deal with can be non-tabular to allow more flexible and more loose data structure.</p>
<p>If we are sure about the data structure of the resulted list and want to convert it to a data frame with equivalent structure, <code>list.stack()</code> does the work.</p>
<h2 id="list-load-list-save">list.load, list.save</h2>
<p><code>list.load()</code> loads data from a JSON, YAML, RData, or RDS file. Its default behavior is to first look at file extension and then determine which data loader is used. If the file extension does not match JSON or YAML, it will use RData loader.</p>
<p><code>list.save()</code> saves a list to a JSON, YAML, RData, or RDS file. Its default behavior is similar with that of <code>list.load()</code>.</p>
<p>If the data are read or written by these two functions in JSON or YAML format, the data will be text-based and thus friendly for human reader. However, if a list contains complex objects such as S4 objects and language objects, the text-based format may not be appropriate to store such objects. You should consider storing them in binary format, i.e. RData or RDS file.</p>
<blockquote>
<p>NOTE: RData file is created by <code>save()</code> and can be loaded by <code>load()</code>. It usually stores an environment in which multiple objects are binded. RDS file is created by <code>saveRDS()</code> and can be loaded by <code>readRDS()</code>. It usually stores an R object directly.</p>
</blockquote>
<p><code>list.load()</code> in the latest version supports loading files specified by a character vector. It also supports loading files without file extensions by iteratively loading files by JSON and YAML loader.</p>
<h2 id="list-serialize-list-unserialize">list.serialize, list.unserialize</h2>
<p>Serialization is the process that stores an object into fully-recoverable data format. <code>list.serialize()</code> and <code>list.deserialize()</code> provides the mechanism to capitalize the R native serializer/unserializer and JSON serializer/unserializer provided by <code>jsonlite</code>.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../Features/Comparers.html" class="navigation navigation-prev " aria-label="Previous page: Comparers"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../Features/Misc-functions.html" class="navigation navigation-next " aria-label="Next page: Misc functions"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"ga":{"token":"UA-47159422-1","configuration":"auto"}};
    gitbook.start(config);
});
</script>

        <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-47159422-1', 'auto');ga('send', 'pageview');</script>
    </body>
    
</html>
