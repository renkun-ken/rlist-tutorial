<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>GitHub API | rlist Tutorial</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="../Examples/Weather-API.html" />
    
    
    <link rel="prev" href="../Examples/index.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-katex/katex.min.css">
        
    
    

        
    <div class="book" data-level="3.1" data-basepath=".." data-revision="Sun Mar 29 2015 09:39:24 GMT+0800 (China Standard Time)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="Getting-started/index.html">
            
                
                    <a href="../Getting-started/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Getting started
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="Getting-started/Quick-overview.html">
            
                
                    <a href="../Getting-started/Quick-overview.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Quick overview
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Getting-started/Working-in-pipeline.html">
            
                
                    <a href="../Getting-started/Working-in-pipeline.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Working in pipeline
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Getting-started/File-formats.html">
            
                
                    <a href="../Getting-started/File-formats.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        File formats
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Features/index.html">
            
                
                    <a href="../Features/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Features
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="Features/Mapping.html">
            
                
                    <a href="../Features/Mapping.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Mapping
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Features/Filtering.html">
            
                
                    <a href="../Features/Filtering.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Filtering
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Features/Updating.html">
            
                
                    <a href="../Features/Updating.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Updating
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="Features/Sorting.html">
            
                
                    <a href="../Features/Sorting.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Sorting
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="Features/Grouping.html">
            
                
                    <a href="../Features/Grouping.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Grouping
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="Features/Joining.html">
            
                
                    <a href="../Features/Joining.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Joining
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="Features/Searching.html">
            
                
                    <a href="../Features/Searching.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        Searching
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="Features/Comparers.html">
            
                
                    <a href="../Features/Comparers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.8.</b>
                        
                        Comparers
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="Features/Input-output.html">
            
                
                    <a href="../Features/Input-output.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.</b>
                        
                        Input/Output
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="Features/Misc-functions.html">
            
                
                    <a href="../Features/Misc-functions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.</b>
                        
                        Misc functions
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="Features/Lambda-expression.html">
            
                
                    <a href="../Features/Lambda-expression.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.11.</b>
                        
                        Lambda expression
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="Features/List-environment.html">
            
                
                    <a href="../Features/List-environment.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.12.</b>
                        
                        List environment
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="Examples/index.html">
            
                
                    <a href="../Examples/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Examples
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="3.1" data-path="Examples/GitHub-API.html">
            
                
                    <a href="../Examples/GitHub-API.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        GitHub API
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Examples/Weather-API.html">
            
                
                    <a href="../Examples/Weather-API.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Weather API
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">Published with GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Share on Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Share on Google</button>
                <button type="button" data-sharing="facebook" class="button">Share on Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Share on Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Share on Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >rlist Tutorial</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="github-api">GitHub API</h1>
<p><a href="https://github.com/" target="_blank">GitHub</a> is the most famous web-based source code hosting service in the world. Millions of developers choose GitHub to host their public code repositories. Many R packages are hosted by GitHub too.</p>
<p>In addition to the rich features it provides in project development and collaboration, GitHub also opens its <a href="https://api.github.com/" target="_blank">API</a> for developers to query the meta-data of users and repos. For example, we can directly get the following data:</p>
<ul>
<li><a href="https://api.github.com/users/renkun-ken" target="_blank">My public profile on GitHub</a></li>
<li><a href="https://api.github.com/repos/renkun-ken/rlist" target="_blank">Profile of rlist package</a></li>
<li><a href="https://api.github.com/users/renkun-ken/repos" target="_blank">All my repos on GitHub</a></li>
</ul>
<p>If you visit the links in your web browser, you will see the data presented in JSON format.</p>
<p>To make the data exploration more interesting, in the following examples we will explore <a href="https://github.com/hadley" target="_blank">Hadley Wickham</a>&apos;s GitHub data with functions provided in rlist and see how rlist makes it easier to work with such non-tabular data structures.</p>
<p>We load rlist and pipeR packages first and then retrieve the repos.</p>
<pre><code class="lang-r"><span class="hljs-keyword">library</span>(rlist)
<span class="hljs-keyword">library</span>(pipeR)
repos &lt;- <span class="hljs-string">&quot;https://api.github.com/users/hadley/repos?per_page=100&amp;page=%d&quot;</span> %&gt;&gt;%
  sprintf(<span class="hljs-number">1</span>:<span class="hljs-number">2</span>) %&gt;&gt;%
  list.load(<span class="hljs-string">&quot;json&quot;</span>) %&gt;&gt;%
  list.ungroup
</code></pre>
<p>Since GitHub API limits the amount of data an ordinary user can retrieve at a time, we use <code>page=%d</code> to specify the page of data and we take the first several pages that are non-empty. Finally we turn the list of pages to a list of repos by <code>list.ungroup()</code>.</p>
<p>Before walking into details, we review some figures and statistics first. First, the number of repos:</p>
<pre><code class="lang-r">list.count(repos)
</code></pre>
<pre><code># [1] 150
</code></pre><p>Then the structure of repos in terms of forks and non-forks:</p>
<pre><code class="lang-r">repos %&gt;&gt;%
  list.table(fork)
</code></pre>
<pre><code># fork
# FALSE  TRUE 
#   114    36
</code></pre><p>GitHub shows the language structure of each individual repo. Here we summarize the language structure of Hadley&apos;s all projects.</p>
<pre><code class="lang-r">repos %&gt;&gt;% 
  list.filter(!is.null(language)) %&gt;&gt;%
  list.table(language) %&gt;&gt;%
  list.sort(-.)
</code></pre>
<pre><code># language
#          R        C++ JavaScript          C        TeX       Ruby 
#         95          9          8          6          5          3 
#      Shell       HTML     Python      Rebol        CSS     Turing 
#          3          2          2          2          1          1
</code></pre><p>or show the table of language by fork:</p>
<pre><code class="lang-r">repos %&gt;&gt;%
  list.table(language, fork)
</code></pre>
<pre><code>#             fork
# language     FALSE TRUE
#   C              3    3
#   C++            7    2
#   CSS            0    1
#   HTML           1    1
#   JavaScript     5    3
#   Python         0    2
#   R             79   16
#   Rebol          2    0
#   Ruby           2    1
#   Shell          1    2
#   TeX            5    0
#   Turing         0    1
#   &lt;NA&gt;           9    4
</code></pre><p>Hadley has created several top-ranked popular packages. Let&apos;s build a bar chart to show the top 10 R repos with most stargazers.</p>
<pre><code class="lang-r">repos %&gt;&gt;%
  list.filter(!fork, language == <span class="hljs-string">&quot;R&quot;</span>) %&gt;&gt;%
  list.names(name) %&gt;&gt;%
  list.mapv(stargazers_count) %&gt;&gt;%
  list.sort(-.) %&gt;&gt;%
  list.take(<span class="hljs-number">10</span>) %&gt;&gt;%
  print %&gt;&gt;%
  barplot(main = <span class="hljs-string">&quot;Hadley&apos;s top 10 R repos with most stargazers&quot;</span>)
</code></pre>
<pre><code>#   ggplot2  devtools      plyr     rvest      httr  testthat     tidyr 
#      1223       976       368       308       285       204       167 
# lubridate   reshape     purrr 
#       148       108        94
</code></pre><p><img src="figure/top-10-repos-with-most-stargazers-1.png" title="plot of chunk top-10-repos-with-most-stargazers" alt="plot of chunk top-10-repos-with-most-stargazers" style="display: block; margin: auto;"></p>
<p>The pipeline itself is clear enough to show what happens in each step. We first filter the repos and pick out the non-fork R repos. Then we give names to the repo elements by their name field. Next we map each element to the count of stargazers, sort them in descending order, and take the top 10 elements. Finally, we build a bar chart from the named integer vector we created.</p>
<p>Hadley is famous for his great contribution of <a href="http://ggplot2.org/" target="_blank">ggplot2</a> so there should not be surprise as the bar chart shows that the package with most stargazers is ggplot2. </p>
<p>Using exactly the same method, we can see the the repos with most open issues.</p>
<pre><code class="lang-r">repos %&gt;&gt;%
  list.filter(has_issues, !fork, language == <span class="hljs-string">&quot;R&quot;</span>) %&gt;&gt;%
  list.names(name) %&gt;&gt;%
  list.mapv(open_issues) %&gt;&gt;%
  list.sort(-.) %&gt;&gt;%
  list.take(<span class="hljs-number">10</span>) %&gt;&gt;%
  print %&gt;&gt;%
  barplot(main = <span class="hljs-string">&quot;Hadley&apos;s top 10 R repos with most open issues&quot;</span>)
</code></pre>
<pre><code>#    ggplot2   devtools staticdocs  lubridate       plyr      tidyr 
#        113         62         41         37         34         32 
#     scales     gtable   testthat   roxygen3 
#         26         24         23         22
</code></pre><p><img src="figure/top-10-repos-with-most-open-issues-1.png" title="plot of chunk top-10-repos-with-most-open-issues" alt="plot of chunk top-10-repos-with-most-open-issues" style="display: block; margin: auto;"></p>
<p>This time you should be able to figure out what is done in each step.</p>
<p>In addition to ggplot2, Hadley&apos;s has some other visualization-related repos too. To find out, we can filter the repo names and description by <em>plot</em> and <em>vis</em> with regular expression.</p>
<pre><code class="lang-r">repos %&gt;&gt;%
  list.filter(any(grepl(<span class="hljs-string">&quot;plot|vis&quot;</span>, c(name, description)))) %&gt;&gt;%
  list.sort(-stargazers_count) %&gt;&gt;%
  list.mapv(name)
</code></pre>
<pre><code>#  [1] &quot;ggplot2&quot;         &quot;bigvis&quot;          &quot;r2d3&quot;           
#  [4] &quot;ggplot2-book&quot;    &quot;gg2v&quot;            &quot;productplots&quot;   
#  [7] &quot;boxplots-paper&quot;  &quot;clusterfly&quot;      &quot;lvplot&quot;         
# [10] &quot;bigvis-infovis&quot;  &quot;densityvis&quot;      &quot;ggplot2-bayarea&quot;
# [13] &quot;layers&quot;          &quot;r-travis&quot;        &quot;toc-vis&quot;        
# [16] &quot;lvplot-paper&quot;    &quot;prodplotpaper&quot;   &quot;rblocks&quot;        
# [19] &quot;rminds&quot;          &quot;spatialVis&quot;      &quot;classifly&quot;      
# [22] &quot;fortify&quot;         &quot;ggplot&quot;          &quot;ggplot2-docs&quot;   
# [25] &quot;vis-migration&quot;   &quot;ggmap&quot;           &quot;imvisoned&quot;      
# [28] &quot;syuzhet&quot;         &quot;vega&quot;
</code></pre><p>The quality of data filtering depends on your conditions. Not every repo shown above is related to data visualization. For example, <em>r-travis</em> has nothing to do with visualization although it contains <em>vis</em>. To do better data analysis, we would have to think hard about the data. rlist functions attempt to release the big burden from our shoulders so that we won&apos;t be easily stuck by such data processing problems.</p>
<p>To compute the sums of the stargazers, watchers and forks of all repos, we can first select the fiedls, stack them, and sum by column.</p>
<pre><code class="lang-r">repos %&gt;&gt;%
  list.select(stargazers_count, watchers_count, forks_count) %&gt;&gt;%
  list.stack %&gt;&gt;%
  colSums
</code></pre>
<pre><code># stargazers_count   watchers_count      forks_count 
#             7402             7402             3375
</code></pre><p>We can also use fuzzy matching devices when we are not exactly sure about the term we need to find. For example, if you hear from a friend that Hadley&apos;s <em>dplayer</em> package is awesome but you cannot find the package by its name. To find out the exact name of the that package we can use soundex measurement in stringdist package.</p>
<pre><code class="lang-r">repos %&gt;&gt;%
  list.filter(stringdist::stringdist(<span class="hljs-string">&quot;dplayer&quot;</span>, name, method = <span class="hljs-string">&quot;soundex&quot;</span>) == <span class="hljs-number">0</span>) %&gt;&gt;%
  list.mapv(name)
</code></pre>
<pre><code># [1] &quot;dplyr&quot;         &quot;dplyrimpaladb&quot;
</code></pre><p>Cheers! Now we know the package that sounds like <em>dplayer</em> is actually named <em>dplyr</em>.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../Examples/index.html" class="navigation navigation-prev " aria-label="Previous page: Examples"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../Examples/Weather-API.html" class="navigation navigation-next " aria-label="Next page: Weather API"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"ga":{"token":"UA-47159422-1"}};
    gitbook.start(config);
});
</script>

        <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-47159422-1', 'auto');ga('send', 'pageview');</script>
    </body>
    
</html>
